<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title></title>
	<style type="text/css">
		#container {
			position: relative;
			overflow: hidden;
			height: 200px;
			width: 400px;
		}

		#carousel{
			position:absolute;
			left:0;
			top:0;
			padding:0;
			margin: 0;

		}
		#carousel li {
			list-style-type: none;
			float: left;
			margin: 0;
			padding: 0;
		}
	</style>
</head>
<body>

	
	<div id="container">
		<ul id="carousel">
			<li id="0"><img src="http://lorempixel.com/400/200/?blah"></li>
			<li id="1"><img src="http://lorempixel.com/400/200/?blarthh"></li>
			<li id="2"><img src="http://lorempixel.com/400/200/?blayj5h"></li>
			<li id="3"><img src="http://lorempixel.com/400/200/?blhrthah"></li>
			<li id="4"><img src="http://lorempixel.com/400/200/?blsdfgah"></li>
			<li id="5"><img src="http://lorempixel.com/400/200/?blahfgd"></li>
		</ul>
	</div>

		<script type="text/javascript">

			// helper function for console.log
			var trace = function(_p){
				if(window.console && window.console.log){
					window.console.log(_p);
				} 
			}

			// scoping inside an object - not really sure why but just trying it out
			var myCarousel = {
				lis: document.getElementById("container").getElementsByTagName("li"),
				carousel: document.getElementById("carousel"),
				current: 0,
				moveCount: 0,
				animating: false,
				w: 400,
				inc: 10,
				dir: -1,
				initCarousel: function(){
					carousel.style.left = "0px";
		  		carousel.style.width = parseInt(this.lis.length*400) + 'px'
				},
				moveCarousel: function(){

					trace("current is " + myCarousel.current)
					trace("dir is " + myCarousel.dir)

					if(myCarousel.moveCount < (myCarousel.w/myCarousel.inc)){
						myCarousel.carousel.style.left = parseInt(myCarousel.carousel.style.left) + myCarousel.dir*myCarousel.inc + 'px';
						myCarousel.moveCount++
						myCarousel.animating = true;
						setTimeout(function(){myCarousel.moveCarousel(myCarousel.dir)},10); // call doMove() in 20 msec
					}else{
						myCarousel.animating = false;
						myCarousel.moveCount = 0;
						

						if(myCarousel.current >= myCarousel.lis.length-2 || myCarousel.current < 0){
							myCarousel.dir*=-1;
							
						}

						myCarousel.current = myCarousel.current + myCarousel.dir*-1;
					}


				}
			}

			myCarousel.initCarousel(); // init the application
			var myTimer = window.setInterval(myCarousel.moveCarousel, 2000)
	
	
	</script>
</body>
</html>